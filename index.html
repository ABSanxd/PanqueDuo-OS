<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PanqueDuo OS v1.0</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body class="vh-100 overflow-hidden">

    <div class="desktop container-fluid position-relative" id="desktop">
        <div class="desktop-icons d-flex flex-column gap-4 pt-4">
            <div class="icon" ondblclick="openWindow('win-game')">
                <i class="bi bi-controller"></i>
                <span>MiniGame</span>
            </div>
            <div class="icon" ondblclick="openWindow('win-ia')">
                <i class="bi bi-cpu"></i>
                <span>PanqueBot</span>
            </div>
            <div class="icon" ondblclick="openWindow('win-word')">
                <i class="bi bi-file-earmark-text"></i>
                <span>PanqueWord</span>
            </div>
        </div>

        <div id="win-ia" class="window shadow-lg">
            <div class="window-header d-flex justify-content-between align-items-center px-3 py-2">
                <span><i class="bi bi-cpu me-2"></i> PanqueBot IA v1.0</span>
                <div class="window-controls"><span onclick="closeWindow('win-ia')"><i class="bi bi-x-lg"></i></span>
                </div>
            </div>
            <div class="window-body d-flex flex-column" style="height: 400px; background-color: #161625;">
                <div id="chat-container" class="flex-grow-1 p-3 overflow-auto d-flex flex-column gap-2">
                    <div class="bot-msg shadow-sm">¡Hola Franklin! Soy PanqueBot. ¿En qué puedo ayudarte hoy?</div>
                </div>
                <div class="p-2 border-top border-secondary bg-dark d-flex gap-2">
                    <input type="text" id="chat-input"
                        class="form-control form-control-sm bg-black text-white border-purple"
                        placeholder="Dime algo..." onkeydown="if(event.key==='Enter') sendMessage()">
                    <button class="btn btn-sm btn-purple" onclick="sendMessage()"><i
                            class="bi bi-send-fill"></i></button>
                </div>
            </div>
        </div>

        <div id="win-game" class="window shadow-lg">
            <div class="window-header d-flex justify-content-between align-items-center px-3 py-2">
                <span><i class="bi bi-controller me-2"></i> PanqueSnake v1.0</span>
                <div class="window-controls"><span onclick="closeWindow('win-game')"><i class="bi bi-x-lg"></i></span>
                </div>
            </div>
            <div class="window-body d-flex flex-column align-items-center justify-content-center p-0"
                style="height: 400px; position: relative; background-color: #161625;">
                <div id="game-score" class="text-purple fw-bold pt-2">Puntos: 0</div>
                <canvas id="snakeGame" width="300" height="300" class="border border-purple mt-2 mb-2"
                    style="background-color: #0d0d16;"></canvas>
                <button id="start-game-btn" class="btn btn-sm btn-outline-purple mb-3 px-4"
                    onclick="startSnakeGame()">JUGAR</button>
                <div id="game-overlay"
                    class="position-absolute top-0 start-0 w-100 h-100 flex-column align-items-center justify-content-center"
                    style="background: rgba(22, 22, 37, 0.95); display: none !important; z-index: 10;">
                    <h3 class="text-danger mb-1 fw-bold">FIN DEL JUEGO</h3>
                    <p class="text-white mb-3">Puntaje: <span id="final-score" class="text-purple">0</span></p>
                    <button class="btn btn-purple btn-sm px-5" onclick="startSnakeGame()">REINTENTAR</button>
                </div>
            </div>
        </div>

        <div id="win-terminal" class="window shadow-lg">
            <div class="window-header d-flex justify-content-between align-items-center px-3 py-2">
                <span><i class="bi bi-terminal me-2"></i> Terminal - bash</span>
                <div class="window-controls">
                    <span onclick="closeWindow('win-terminal')"><i class="bi bi-x-lg"></i></span>
                </div>
            </div>
            <div class="window-body terminal-style p-0 d-flex flex-column" id="terminalContainer"
                style="background-color: #161625; height: 400px; overflow-y: auto;">
                <div class="p-3" style="font-family: 'Courier New', monospace; color: #e0e0e0;">
                    <div class="text-secondary small">PanqueDuo Kernel v1.0.0-release (Franklin@break)</div>
                    <div class="mb-3 text-purple x-small">Escribe 'help' para ver los comandos disponibles.</div>

                    <div id="terminal-history"></div>

                    <div class="terminal-active-line d-flex align-items-center">
                        <span class="text-purple fw-bold me-2" id="current-prompt-path">franklin@break:~$</span>
                        <input type="text" id="terminalInput"
                            class="bg-transparent border-0 text-white outline-none flex-grow-1" autofocus
                            autocomplete="off" style="box-shadow: none; font-family: 'Courier New', monospace;">
                    </div>
                </div>
            </div>
        </div>

        <div id="win-word" class="window shadow-lg">
            <div class="window-header d-flex justify-content-between align-items-center px-3 py-2">
                <span><i class="bi bi-file-earmark-text me-2"></i> PanqueWord - Carta.docx</span>
                <div class="window-controls"><span onclick="closeWindow('win-word')"><i class="bi bi-x-lg"></i></span>
                </div>
            </div>
            <div class="word-toolbar">
                <i class="bi bi-type-bold"></i> <i class="bi bi-type-italic"></i> <i class="bi bi-type-underline"></i>
                <i class="bi bi-align-left ms-3"></i> <i class="bi bi-align-center"></i> <i
                    class="bi bi-card-image ms-3"></i>
            </div>
            <div class="window-body bg-light p-3" style="height: 350px; overflow-y: auto;">
                <div id="word-content" class="word-page"></div>
            </div>
        </div>

        <div id="win-files" class="window shadow-lg">
            <div class="window-header d-flex justify-content-between align-items-center px-3 py-2">
                <span><i class="bi bi-folder me-2"></i> PanqueDrive</span>
                <div class="window-controls"><span onclick="closeWindow('win-files')"><i class="bi bi-x-lg"></i></span>
                </div>
            </div>
            <div class="bg-dark p-2 d-flex align-items-center border-bottom border-secondary">
                <button class="btn btn-sm btn-outline-light me-2" onclick="showHome()"><i
                        class="bi bi-arrow-left"></i></button>
                <span id="drive-path" class="small text-secondary">Mi Unidad /</span>
            </div>
            <div class="window-body p-3 overflow-auto" style="height: 350px;">
                <div id="drive-content" class="row g-3 text-center"></div>
            </div>
        </div>
    </div>

    <div id="user-menu" class="user-menu-card shadow-lg p-3" style="display: none;">
        <div class="text-center mb-3">
            <i class="bi bi-person-circle text-purple" style="font-size: 3.5rem;"></i>
            <h5 class="text-white mt-2 mb-0">Franklin</h5>
            <span class="badge bg-purple-low text-purple x-small">Administrador del Sistema</span>
        </div>
        <hr class="border-secondary">
        <div class="user-info small text-white">
            <p class="mb-2"><i class="bi bi-heart-fill me-2 text-danger"></i> Muy amado por Boyi</p>
            <p class="mb-2"><i class="bi bi-geo-alt-fill me-2 text-info"></i> En el corazón de Boyi</p>
        </div>
        <button class="btn btn-purple btn-sm w-100 mt-2" onclick="toggleUserMenu()">CERRAR SESIÓN</button>
    </div>

    <nav class="taskbar container-fluid fixed-bottom d-flex align-items-center px-4">
        <div class="taskbar-left flex-grow-1">
            <div class="user-btn" title="Perfil de Franklin" onclick="toggleUserMenu()">
                <i class="bi bi-person-circle"></i>
            </div>
        </div>

        <div class="active-apps d-flex justify-content-center gap-4 flex-grow-1">
            <i class="bi bi-folder2-open" onclick="openWindow('win-files')" title="Explorador de Archivos"></i>
            <i class="bi bi-terminal" onclick="openWindow('win-terminal')" title="Terminal de Comandos"></i>
        </div>

        <div class="system-tray d-flex align-items-center justify-content-end gap-3 flex-grow-1">
            <div class="tray-icons d-flex gap-2">
                <i class="bi bi-wifi" title="Conectado al WiFi de Boyi"></i>
                <input type="hidden" title="Batería" value="Batería"> <i class="bi bi-battery-full"
                    title="Batería cargada de amor: 100%"></i>
                <i class="bi bi-heart-fill" title="Estado: Muy enamorado"></i>
            </div>
            <div class="clock-container d-flex flex-column text-end text-white">
                <span id="clock">00:00</span>
                <span id="date" class="small">00/00/0000</span>
            </div>
        </div>
    </nav>

    <div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark border-purple shadow-neon">
                <div class="modal-header border-secondary py-2 text-purple small" id="imageTitle">Visor</div>
                <div class="modal-body p-2 text-center"><img src="" id="imageViewer"
                        class="img-fluid rounded border border-secondary"></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="videoModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-md">
            <div class="modal-content bg-dark border-purple shadow-neon">
                <div class="modal-header border-secondary py-2 text-purple" id="videoTitleDisplay">Video</div>
                <div class="modal-body p-0 bg-black"><video id="videoPlayer" controls class="w-100"
                        style="max-height: 60vh;">
                        <source src="" type="video/mp4">
                    </video></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="securityModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark border-purple shadow-neon">
                <div class="modal-header border-secondary py-2 text-purple"><i class="bi bi-shield-lock-fill me-2"></i>
                    SEGURIDAD</div>
                <div class="modal-body text-center p-4">
                    <div class="input-group mb-3">
                        <input type="password" id="secretPass" class="form-control bg-black text-purple border-purple"
                            placeholder="Contraseña..." onkeydown="if(event.key==='Enter') checkSecretPass()">
                        <button class="btn btn-outline-purple border-purple" type="button"
                            onclick="togglePassVisibility()"><i class="bi bi-eye" id="toggleIcon"></i></button>
                    </div>
                    <button type="button" class="btn btn-outline-purple w-100"
                        onclick="checkSecretPass()">DESBLOQUEAR</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark border-purple shadow-neon">
                <div class="modal-body text-center p-5">
                    <i class="bi bi-heart-fill text-purple mb-4" style="font-size: 3rem;"></i>
                    <h5 class="text-white mb-3">Acceso Concedido</h5>
                    <p class="text-purple italic small" id="successMessage"></p>
                    <button type="button" class="btn btn-outline-purple mt-4" data-bs-dismiss="modal">CERRAR</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="function.js"></script>
    <script src="word.js"></script>
    <script src="drive.js"></script>
    <script src="terminal.js"></script>
    <script src="game.js"></script>
    <script src="ia.js"></script>
</body>
<div id="boot-screen" class="position-fixed top-0 start-0 w-100 h-100 d-flex flex-column align-items-center justify-content-center bg-black" style="z-index: 10000; font-family: 'Courier New', monospace;">
    <div id="boot-log" class="text-success small mb-4 w-75" style="height: 200px; overflow: hidden;">
        </div>
    <div class="text-center">
        <h2 class="text-white mb-4 shadow-neon-text">PanqueDuo OS</h2>
        <div class="progress bg-dark" style="width: 250px; height: 5px; border: 1px solid var(--neon-purple);">
            <div id="boot-bar" class="progress-bar bg-purple shadow-neon" role="progressbar" style="width: 0%"></div>
        </div>
        <p class="text-secondary mt-3 x-small">Cargando motor PanqueDuo v1.0.0...</p>
    </div>
</div>
</html>